<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>TinhNN Blog</title>
    <link>/</link>
      <atom:link href="/index.xml" rel="self" type="application/rss+xml" />
    <description>TinhNN Blog</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>en-us</language><lastBuildDate>Thu, 14 Jan 2021 00:00:00 +0900</lastBuildDate>
    <image>
      <url>/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_2.png</url>
      <title>TinhNN Blog</title>
      <link>/</link>
    </image>
    
    <item>
      <title>ROS Guideline</title>
      <link>/post/ros_guideline/</link>
      <pubDate>Thu, 14 Jan 2021 00:00:00 +0900</pubDate>
      <guid>/post/ros_guideline/</guid>
      <description>&lt;h1 id=&#34;mục-lục&#34;&gt;Mục lục&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;#setup1&#34;&gt;setup 1: Setup wifi cho ubuntu server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#setup2&#34;&gt;setup 2: Cách xem JAV được rõ nhất&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#setup3&#34;&gt;setup 3: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#setup4&#34;&gt;setup 4: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#setup5&#34;&gt;setup 5: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#setup6&#34;&gt;setup 6: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#setup7&#34;&gt;setup 7: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#setup8&#34;&gt;setup 8: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#setup9&#34;&gt;setup 9: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#setup10&#34;&gt;setup 10: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#setup11&#34;&gt;setup 11: &lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;span-stylecolorbluesetup-1-setup-wifi-cho-ubuntu-serverspan-a-namesetup1a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;setup 1: Setup wifi cho ubuntu server:&lt;/span&gt; &lt;a name=&#34;setup1&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;hr&gt;
&lt;h2 id=&#34;span-stylecolorbluesetup-2-cách-xem-jav-được-rõ-nhấtspan-a-namesetup2a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;setup 2: Cách xem JAV được rõ nhất&lt;/span&gt; &lt;a name=&#34;setup2&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluesetup-3-span-a-namesetup3a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;setup 3: :&lt;/span&gt; &lt;a name=&#34;setup3&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluesetup-4-span-a-namesetup4a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;setup 4: :&lt;/span&gt; &lt;a name=&#34;setup4&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluesetup-5-span-a-namesetup5a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;setup 5: :&lt;/span&gt; &lt;a name=&#34;setup5&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluesetup-6-span-a-namesetup6a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;setup 6: :&lt;/span&gt; &lt;a name=&#34;setup6&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluesetup-7-span-a-namesetup7a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;setup 7: :&lt;/span&gt; &lt;a name=&#34;setup7&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluesetup-8-span-a-namesetup8a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;setup 8: :&lt;/span&gt; &lt;a name=&#34;setup8&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluesetup-9-span-a-namesetup9a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;setup 9: :&lt;/span&gt; &lt;a name=&#34;setup9&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluesetup-10-span-a-namesetup10a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;setup 10: :&lt;/span&gt; &lt;a name=&#34;setup10&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluesetup-11-span-a-namesetup11a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;setup 11: :&lt;/span&gt; &lt;a name=&#34;setup11&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
</description>
    </item>
    
    <item>
      <title>Matlab basic</title>
      <link>/post/matlab_basic/</link>
      <pubDate>Sat, 21 Nov 2020 00:00:00 +0900</pubDate>
      <guid>/post/matlab_basic/</guid>
      <description>&lt;h1 id=&#34;mục-lục&#34;&gt;Mục lục&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;#lesson1&#34;&gt;Lesson 1: Mô phỏng vị trí robot theo vận tốc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lesson2&#34;&gt;Lesson 2: Pure Pursuit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lesson3&#34;&gt;Lesson 3: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lesson4&#34;&gt;Lesson 4: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lesson5&#34;&gt;Lesson 5: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lesson6&#34;&gt;Lesson 6: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lesson7&#34;&gt;Lesson 7: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lesson8&#34;&gt;Lesson 8: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lesson9&#34;&gt;Lesson 9: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lesson10&#34;&gt;Lesson 10: &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lesson11&#34;&gt;Lesson 11: &lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;span-stylecolorbluelesson-1-mô-phỏng-vị-trí-robot-theo-vận-tốcspan-a-namelesson1a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;Lesson 1: Mô phỏng vị trí robot theo vận tốc:&lt;/span&gt; &lt;a name=&#34;lesson1&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-txt&#34;&gt;1 robot có các thông số như sau.
* Khoảng cách 2 bánh:  B = 33 [cm]
* Khoảng cách giữa bánh trước và bánh sau: L = 28 [cm]
Xe dẫn động 2 bánh trước.
lấy tâm xe là trung điểm 2 bánh trước.
vận tốc tuyến tính lớn nhất: v_linear_max = 0.5 [m/s]
vận tốc góc lớn nhất: v_angular_max = 2 [rad/s]
.......
Vẽ model mô phỏng chuyển động của robot.
- Input là vận tốc tuyến tính và vận tốc góc của robot.
- Output là tọa độ (x y) của bánh trước, bánh sau, và tâm robot.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;

















&lt;figure id=&#34;figure-robot&#34;&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;/img/matlab/robot_pose_sim/robot_spec.PNG&#34; data-caption=&#34;Robot&#34;&gt;


  &lt;img src=&#34;/img/matlab/robot_pose_sim/robot_spec.PNG&#34; alt=&#34;&#34;  &gt;
&lt;/a&gt;


  
  
  &lt;figcaption&gt;
    Robot
  &lt;/figcaption&gt;


&lt;/figure&gt;

&lt;span style=&#34;color:purple&#34;&gt;&lt;strong&gt;Phân tích&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Vận tốc hai bánh xe:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-C&#34;&gt;v_left  = v_linear - v_angular*B/2;
v_right = v_linear + v_angular*B/2;

x_left = 
y_left = 
x_right = 
y_right = 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;span style=&#34;color:purple&#34;&gt;&lt;strong&gt;Model&lt;/strong&gt;&lt;/span&gt;


















&lt;figure id=&#34;figure-robot&#34;&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;/img/matlab/robot_pose_sim/Model.PNG&#34; data-caption=&#34;Robot&#34;&gt;


  &lt;img src=&#34;/img/matlab/robot_pose_sim/Model.PNG&#34; alt=&#34;&#34;  &gt;
&lt;/a&gt;


  
  
  &lt;figcaption&gt;
    Robot
  &lt;/figcaption&gt;


&lt;/figure&gt;

&lt;span style=&#34;color:purple&#34;&gt;&lt;strong&gt;Simulation&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;span-stylecolorbluelesson-2-pure-pursuitspan-a-namelesson2a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;Lesson 2: Pure Pursuit&lt;/span&gt; &lt;a name=&#34;lesson2&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluelesson-3-span-a-namelesson3a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;Lesson 3: :&lt;/span&gt; &lt;a name=&#34;lesson3&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluelesson-4-span-a-namelesson4a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;Lesson 4: :&lt;/span&gt; &lt;a name=&#34;lesson4&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluelesson-5-span-a-namelesson5a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;Lesson 5: :&lt;/span&gt; &lt;a name=&#34;lesson5&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluelesson-6-span-a-namelesson6a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;Lesson 6: :&lt;/span&gt; &lt;a name=&#34;lesson6&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluelesson-7-span-a-namelesson7a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;Lesson 7: :&lt;/span&gt; &lt;a name=&#34;lesson7&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluelesson-8-span-a-namelesson8a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;Lesson 8: :&lt;/span&gt; &lt;a name=&#34;lesson8&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluelesson-9-span-a-namelesson9a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;Lesson 9: :&lt;/span&gt; &lt;a name=&#34;lesson9&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluelesson-10-span-a-namelesson10a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;Lesson 10: :&lt;/span&gt; &lt;a name=&#34;lesson10&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;span-stylecolorbluelesson-11-span-a-namelesson11a&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;Lesson 11: :&lt;/span&gt; &lt;a name=&#34;lesson11&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
</description>
    </item>
    
    <item>
      <title>ROS Serial cho STM32</title>
      <link>/post/rosserial_stm32/</link>
      <pubDate>Sat, 21 Nov 2020 00:00:00 +0900</pubDate>
      <guid>/post/rosserial_stm32/</guid>
      <description>&lt;h2 id=&#34;span-stylecolorbluegiới-thiệuspan&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;Giới thiệu:&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;ROS chỉ được hỗ trợ chính thức trên hệ điều hành nhân linux. Vì vậy khi thực hiện những tác vụ đòi hỏi thời gian thực, độ chính xác về timing cao thì hệ thống linux không đáp ứng được. Bài viết hướng dẫn đưa ROS serial lên STM32 để có thể đáp ứng được yêu cầu.&lt;/p&gt;
&lt;p&gt;Phần cứng trong bài viết được sử dụng là board Nucleo STM32F746ZG chạy trên FreeRTOS. Có thể sử dụng board khác bằng cách sử dụng STMcubeIDE để generate lại board phù hợp và thay đổi config GPIO. Ngoài ra còn 1 board để chạy ROS core là RaspberryPi 4. 2 board giao tiếp qua USB CDC.&lt;/p&gt;
&lt;h2 id=&#34;span-stylecolorbluenội-dungspan&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;Nội dung:&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Ta sẽ cài ROS lên một thiết bị chạy linux, ở đây tôi dùng RaspberyPi4. Các bạn có thể tham khảo việc cài đặt ROS lên PI ở &lt;a href=&#34;https://nguyennhantinh.wordpress.com/2020/08/04/cai-ros-melodic-len-raspberrypi/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;đây&lt;/a&gt;:&lt;/p&gt;


















&lt;figure id=&#34;figure-ros-serial-diagram&#34;&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;/img/ros_serialSTM/diagram.PNG&#34; data-caption=&#34;ROS Serial Diagram&#34;&gt;


  &lt;img src=&#34;/img/ros_serialSTM/diagram.PNG&#34; alt=&#34;&#34;  &gt;
&lt;/a&gt;


  
  
  &lt;figcaption&gt;
    ROS Serial Diagram
  &lt;/figcaption&gt;


&lt;/figure&gt;

&lt;p&gt;Download source code cho STM ở đây:
&lt;a href=&#34;https://github.com/tinhnn/rosserial_stm32f7xx&#34;&gt;https://github.com/tinhnn/rosserial_stm32f7xx&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Sử dụng STM32CubeIde để build và flash. Source code được viết cho STM32F7 series, Nếu sử dụng board khác thì mở file &lt;code&gt;ROSSerial_STM32.ioc&lt;/code&gt; config sang board mà bạn sử dụng rồi gen lại code.&lt;/p&gt;
&lt;p&gt;Kết nối Pi với STM32 qua USB.&lt;/p&gt;
&lt;p&gt;Trên Pi, mở Terminal 1 và chạy ROS core:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;$ roscore
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Mở Terminal 2 và chạy command:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;$ rosrun rosserial_python serial_node.py _port:=/dev/ttyACM0 _baud:=115200
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Mở Terminal 3 và chạy command:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;$ rostopic list
/chatter
/diagnostics
/rosout
/rosout_agg
$ rostopic echo /chatter
data: &amp;quot;Welcome to ROS Serial for STM32f7 series&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;span-stylecolorbluetham-khảospan&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;Tham khảo:&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;http://wiki.ros.org/rosserial&#34;&gt;http://wiki.ros.org/rosserial&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/nquantum/stm32_rosserial&#34;&gt;https://github.com/nquantum/stm32_rosserial&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Xử lý ảnh cơ bản</title>
      <link>/post/image_processing_basic/</link>
      <pubDate>Sat, 21 Nov 2020 00:00:00 +0900</pubDate>
      <guid>/post/image_processing_basic/</guid>
      <description>&lt;h2 id=&#34;span-stylecolorbluelesson-1-tách-vật-thểspan&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;&lt;strong&gt;Lesson 1&lt;/strong&gt;: Tách vật thể&lt;/span&gt;&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import numpy as np
import cv2

# TODO


&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;span-stylecolorbluelesson-2span&#34;&gt;&lt;span style=&#34;color:blue&#34;&gt;&lt;strong&gt;Lesson 2&lt;/strong&gt;:&lt;/span&gt;&lt;/h2&gt;
</description>
    </item>
    
  </channel>
</rss>
